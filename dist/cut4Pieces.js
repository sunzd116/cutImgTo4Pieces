!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){!function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout(function(){t(n=i)},i-e)},window.cancelAnimationFrame=clearTimeout}}(),function(){function e(t,e,i){t.addEventListener(e,i,!1)}function i(t){return Math.sqrt(1-Math.pow(t-1,2))}function n(t){return 1-Math.sqrt(1-t*t)}var s=function(t){this.reverse=this._getValue(t.reverse,!1),this.element="string"==typeof t.touch?document.querySelector(t.touch):t.touch,this.target=this._getValue(t.target,this.element),this.vertical=this._getValue(t.vertical,!0),this.property=t.property,this.tickID=0,this.initialValue=this._getValue(t.initialValue,this.target[this.property]),this.target[this.property]=this.initialValue,this.fixed=this._getValue(t.fixed,!1),this.sensitivity=this._getValue(t.sensitivity,1),this.moveFactor=this._getValue(t.moveFactor,1),this.factor=this._getValue(t.factor,1),this.outFactor=this._getValue(t.outFactor,.3),this.min=function(){if(void 0!==t.min&&null!==open.min)return"function"==typeof t.min?t.min():t.min},this.max=function(){if(void 0!==t.max&&null!==open.max)return"function"==typeof t.max?t.max():t.max},this.deceleration=this._getValue(t.deceleration,6e-4),this.maxRegion=this._getValue(t.maxRegion,600),this.springMaxRegion=this._getValue(t.springMaxRegion,60),this.maxSpeed=t.maxSpeed,this.hasMaxSpeed=!(void 0===this.maxSpeed),this.lockDirection=this._getValue(t.lockDirection,!0),this.canCrossBorderMin=this._getValue(t.canCrossBorderMin,!0),this.canCrossBorderMax=this._getValue(t.canCrossBorderMax,!0);var i=function(){};this.change=t.change||i,this.touchEnd=t.touchEnd||i,this.touchStart=t.touchStart||i,this.touchMove=t.touchMove||i,this.touchCancel=t.touchCancel||i,this.reboundEnd=t.reboundEnd||i,this.animationEnd=t.animationEnd||i,this.correctionEnd=t.correctionEnd||i,this.tap=t.tap||i,this.pressMove=t.pressMove||i,this.shouldRebound=t.shouldRebound||function(){return!0},this.preventDefault=this._getValue(t.preventDefault,!0),this.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},this.hasMin=!(void 0===this.min()),this.hasMax=!(void 0===this.max()),this.isTouchStart=!1,this.step=t.step,this.inertia=this._getValue(t.inertia,!0),this._calculateIndex(),this.eventTarget=window,t.bindSelf&&(this.eventTarget=this.element),this._moveHandler=this._move.bind(this),e(this.element,"touchstart",this._start.bind(this)),e(this.eventTarget,"touchend",this._end.bind(this)),e(this.eventTarget,"touchcancel",this._cancel.bind(this)),this.eventTarget.addEventListener("touchmove",this._moveHandler,{passive:!1,capture:!1}),this.x1=this.x2=this.y1=this.y2=null};s.prototype={isAtMax:function(t){var e=t||0;return this.hasMax&&this.target[this.property]+e>=this.max()},isAtMin:function(t){var e=t||0;return this.hasMin&&this.target[this.property]+e<=this.min()},_getValue:function(t,e){return void 0===t?e:t},stop:function(){cancelAnimationFrame(this.tickID),this._calculateIndex()},_start:function(t){this.isTouchStart=!0,this.touchStart.call(this,t,this.target[this.property]),cancelAnimationFrame(this.tickID),this._calculateIndex(),this.startTime=(new Date).getTime(),this.x1=this.preX=t.touches[0].pageX,this.y1=this.preY=t.touches[0].pageY,this.start=this.vertical?this.preY:this.preX,this._firstTouchMove=!0,this._preventMove=!1},_move:function(t){if(this.isTouchStart){var e=t.touches.length,i=t.touches[0].pageX,n=t.touches[0].pageY;if(this._firstTouchMove){if(this.lockDirection){var s=Math.abs(i-this.x1)-Math.abs(n-this.y1);s>0&&this.vertical?this._preventMove=!0:s<0&&!this.vertical&&(this._preventMove=!0)}this._firstTouchMove=!1}if(!this._preventMove){var a=(this.vertical?n-this.preY:i-this.preX)*this.sensitivity,r=this.moveFactor;if(this.isAtMax()&&a>0?r=this.outFactor:this.isAtMin()&&a<0&&(r=this.outFactor),a*=r,this.preX=i,this.preY=n,this.hasMax&&!this.canCrossBorderMax&&this.target[this.property]+(this.reverse?-a:a)>this.max()){var o=this.max()-this.target[this.property];a=this.reverse?-o:o}if(this.hasMin&&!this.canCrossBorderMin&&this.target[this.property]+(this.reverse?-a:a)<this.min()){o=this.min()-this.target[this.property];a=this.reverse?-o:o}this.fixed||(this.target[this.property]+=this.reverse?-a:a),this.change.call(this,this.target[this.property]);var h=(new Date).getTime();h-this.startTime>300&&(this.startTime=h,this.start=this.vertical?this.preY:this.preX),this.touchMove.call(this,t,this.target[this.property])}this.preventDefault&&!function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}(t.target,this.preventDefaultException)&&t.preventDefault(),1===e&&(null!==this.x2?(t.deltaX=i-this.x2,t.deltaY=n-this.y2):(t.deltaX=0,t.deltaY=0),this.pressMove.call(this,t,this.target[this.property])),this.x2=i,this.y2=n}},_cancel:function(t){var e=this.target[this.property];this.touchCancel.call(this,t,e),this._end(t)},to:function(t,e,n,s=function(){}){this._to(t,this._getValue(e,600),n||i,this.change,function(t){this._calculateIndex(),this.reboundEnd.call(this,t),this.animationEnd.call(this,t),s.call(this,t)}.bind(this))},_calculateIndex:function(){this.hasMax&&this.hasMin&&(this.currentPage=Math.round((this.max()-this.target[this.property])/this.step))},_end:function(t){if(this.isTouchStart){this.isTouchStart=!1;var e=this,s=this.target[this.property],a=Math.abs(t.changedTouches[0].pageX-this.x1)<30&&Math.abs(t.changedTouches[0].pageY-this.y1)<30;if(a&&this.tap.call(this,t,s),!1===this.touchEnd.call(this,t,s,this.currentPage))return;if(this.hasMax&&s>this.max()){if(!this.shouldRebound(s))return;console.log("rebounce: "+s),this._to(this.max(),200,i,this.change,function(t){this.reboundEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}else if(this.hasMin&&s<this.min()){if(!this.shouldRebound(s))return;console.log("rebounce: "+s),this._to(this.min(),200,i,this.change,function(t){this.reboundEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}else if(!this.inertia||a||this._preventMove||this.fixed)e._correction();else{var r=(new Date).getTime()-this.startTime;if(r<300){console.log("inertia: "+s);var o=((this.vertical?t.changedTouches[0].pageY:t.changedTouches[0].pageX)-this.start)*this.sensitivity,h=Math.abs(o)/r,c=this.factor*h;this.hasMaxSpeed&&c>this.maxSpeed&&(c=this.maxSpeed);var l=o<0?-1:1;this.reverse&&(l=-l);var u=s+c*c/(2*this.deceleration)*l,d=1;u<this.min()?u<this.min()-this.maxRegion?(d=n((s-this.min()+this.springMaxRegion)/(s-u)),u=this.min()-this.springMaxRegion):(d=n((s-this.min()+this.springMaxRegion*(this.min()-u)/this.maxRegion)/(s-u)),u=this.min()-this.springMaxRegion*(this.min()-u)/this.maxRegion):u>this.max()&&(u>this.max()+this.maxRegion?(d=n((this.max()+this.springMaxRegion-s)/(u-s)),u=this.max()+this.springMaxRegion):(d=n((this.max()+this.springMaxRegion*(u-this.max())/this.maxRegion-s)/(u-s)),u=this.max()+this.springMaxRegion*(u-this.max())/this.maxRegion));var p=Math.round(h/e.deceleration)*d;e._to(Math.round(u),p,i,e.change,function(t){if(e.hasMax&&e.target[e.property]>e.max()){if(!this.shouldRebound(e.target[e.property]))return;cancelAnimationFrame(e.tickID),e._to(e.max(),600,i,e.change,e.animationEnd)}else if(e.hasMin&&e.target[e.property]<e.min()){if(!this.shouldRebound(e.target[e.property]))return;cancelAnimationFrame(e.tickID),e._to(e.min(),600,i,e.change,e.animationEnd)}else e.step?e._correction():e.animationEnd.call(e,t);e.change.call(this,t)})}else e._correction()}}this.x1=this.x2=this.y1=this.y2=null},_to:function(t,e,i,n,s){var a=this.target,r=this.property,o=a[r],h=t-o,c=new Date,l=this,u=function(){var d=new Date-c;if(d>=e)return a[r]=t,n&&n.call(l,t),void(s&&s.call(l,t));a[r]=h*i(d/e)+o,l.tickID=requestAnimationFrame(u),n&&n.call(l,a[r])};u()},_correction:function(){if(void 0!==this.step){var t=this.target[this.property],e=Math.floor(Math.abs(t/this.step)),n=t%this.step;Math.abs(n)>this.step/2?this._to((t<0?-1:1)*(e+1)*this.step,400,i,this.change,function(t){this._calculateIndex(),this.correctionEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this)):this._to((t<0?-1:1)*e*this.step,400,i,this.change,function(t){this._calculateIndex(),this.correctionEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}}},t.exports=s}()},function(t,e,i){"use strict";i.r(e);var n=.017453292519943295,s=function(t,e,i,n,s,a,r,o,h,c,l,u,d,p,m,f){this.elements=window.Float32Array?new Float32Array(16):[];var g=this.elements;g[0]=void 0!==t?t:1,g[4]=e||0,g[8]=i||0,g[12]=n||0,g[1]=s||0,g[5]=void 0!==a?a:1,g[9]=r||0,g[13]=o||0,g[2]=h||0,g[6]=c||0,g[10]=void 0!==l?l:1,g[14]=u||0,g[3]=d||0,g[7]=p||0,g[11]=m||0,g[15]=void 0!==f?f:1};s.prototype={set:function(t,e,i,n,s,a,r,o,h,c,l,u,d,p,m,f){var g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=s,g[5]=a,g[9]=r,g[13]=o,g[2]=h,g[6]=c,g[10]=l,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var i=t.elements,n=this.elements,s=i[0],a=i[4],r=i[8],o=i[12],h=i[1],c=i[5],l=i[9],u=i[13],d=i[2],p=i[6],m=i[10],f=i[14],g=i[3],v=i[7],x=i[11],y=i[15],M=e[0],_=e[1],w=e[2],T=e[3],b=e[4],X=e[5],Y=e[6],E=e[7],A=e[8],R=e[9],B=e[10],D=e[11],S=e[12],V=e[13],k=e[14],F=e[15];return n[0]=s*M+a*b+r*A+o*S,n[4]=s*_+a*X+r*R+o*V,n[8]=s*w+a*Y+r*B+o*k,n[12]=s*T+a*E+r*D+o*F,n[1]=h*M+c*b+l*A+u*S,n[5]=h*_+c*X+l*R+u*V,n[9]=h*w+c*Y+l*B+u*k,n[13]=h*T+c*E+l*D+u*F,n[2]=d*M+p*b+m*A+f*S,n[6]=d*_+p*X+m*R+f*V,n[10]=d*w+p*Y+m*B+f*k,n[14]=d*T+p*E+m*D+f*F,n[3]=g*M+v*b+x*A+y*S,n[7]=g*_+v*X+x*R+y*V,n[11]=g*w+v*Y+x*B+y*k,n[15]=g*T+v*E+x*D+y*F,this},_rounded:function(t,e){return e=Math.pow(10,e||15),Math.round(t*e)/e},_arrayWrap:function(t){return window.Float32Array?new Float32Array(t):t},appendTransform:function(t,e,i,s,a,r,o,h,c,l,u,d,p,m){var f=o*n,g=this._rounded(Math.cos(f)),v=this._rounded(Math.sin(f)),x=h*n,y=this._rounded(Math.cos(x)),M=this._rounded(Math.sin(x)),_=c*n,w=this._rounded(Math.cos(-1*_)),T=this._rounded(Math.sin(-1*_));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,t,0,g,v,e,0,-v,g,i,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([y,0,M,0,0,1,0,0,-M,0,y,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([w*s,T*a,0,0,-T*s,w*a,0,0,0,0,1*r,0,0,0,0,1])),(l||u)&&this.multiplyMatrices(this,this._arrayWrap([this._rounded(Math.cos(l*n)),this._rounded(Math.sin(l*n)),0,0,-1*this._rounded(Math.sin(u*n)),this._rounded(Math.cos(u*n)),0,0,0,0,1,0,0,0,0,1])),(d||p||m)&&(this.elements[12]-=d*this.elements[0]+p*this.elements[4]+m*this.elements[8],this.elements[13]-=d*this.elements[1]+p*this.elements[5]+m*this.elements[9],this.elements[14]-=d*this.elements[2]+p*this.elements[6]+m*this.elements[10]),this}};var a=function(t,e,i,n,s,a){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=a||0,this};function r(t,e,i){Object.defineProperty(t,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e]=t,i()}})}function o(t,e){if(!t.___mixCSS3Transform){var i,n=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],a=(i=t,"object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&null!==i&&1===i.nodeType&&"string"==typeof i.nodeName);e||n.push("perspective"),t.___mixCSS3Transform=!0,function(t,e,i){for(var n=0,s=e.length;n<s;n++)r(t,e[n],i)}(t,n,function(){var i=t.matrix3d.identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ),n=(e?"":"perspective("+t.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(i.elements).join(",")+")";a?t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform=n:t.transform=n}),t.matrix3d=new s,e||(t.perspective=500),t.scaleX=t.scaleY=t.scaleZ=1,t.translateX=t.translateY=t.translateZ=t.rotateX=t.rotateY=t.rotateZ=t.skewX=t.skewY=t.originX=t.originY=t.originZ=0}}a.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(t,e,i,s,a,r,o,h,c){if(a%360)var l=a*n,u=Math.cos(l),d=Math.sin(l);else u=1,d=0;return r||o?(r*=n,o*=n,this.append(Math.cos(o),Math.sin(o),-Math.sin(r),Math.cos(r),t,e),this.append(u*i,d*i,-d*s,u*s,0,0)):this.append(u*i,d*i,-d*s,u*s,t,e),(h||c)&&(this.tx-=h*this.a+c*this.c,this.ty-=h*this.b+c*this.d),this},append:function(t,e,i,n,s,a){var r=this.a,o=this.b,h=this.c,c=this.d;return this.a=t*r+e*h,this.b=t*o+e*c,this.c=i*r+n*h,this.d=i*o+n*c,this.tx=s*r+a*h+this.tx,this.ty=s*o+a*c+this.ty,this},initialize:function(t,e,i,n,s,a){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=a,this},setValues:function(t,e,i,n,s,a){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=a||0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)}},o.getMatrix3D=function(t){var e={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return(new s).identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ).elements},o.getMatrix2D=function(t){var e={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return(new a).identity().appendTransform(e.translateX,e.translateY,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.originX,e.originY)};var h=o,c=i(0),l=i.n(c);function u(t,e,i,n,s,a,r){var o=!1,c=document.createElement("div");c.setAttribute("class",a);var u=document.createElement("div"),m=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div");u.setAttribute("class","img-left-top-container"),m.setAttribute("class","img-right-top-container"),f.setAttribute("class","img-left-bottom-container"),g.setAttribute("class","img-right-bottom-container");var v=document.createElement("div"),x=document.createElement("div");v.setAttribute("class","img-top-container"),x.setAttribute("class","img-bottom-container"),c.append(v),c.append(x),v.append(u),v.append(m),x.append(f),x.append(g);var y=document.createElement("canvas"),M=window.devicePixelRatio;y.width=M*n,y.height=M*s;var _=y.getContext("2d"),w=new Image(M*n,M*s),T={leftTop:new Image(e,i),rightTop:new Image(n-e,i),leftBottom:new Image(e,s-i),rightBottom:new Image(n-e,s-i)};h(T.rightBottom,!0),h(T.leftBottom,!0),h(T.rightTop,!0),T.rightBottom.alloyTouchY=new l.a({touch:g,vertical:!0,target:T.rightBottom,property:"translateY",initialValue:0,min:-(s-i-window.innerHeight),max:0,change:function(t){T.leftBottom.alloyTouch&&T.leftBottom.alloyTouch.to(t,0)},canCrossBorderMax:!1,touchEnd:function(t,e,i){return!(e>=0)}}),T.rightBottom.alloyTouchX=new l.a({touch:g,vertical:!1,target:T.rightBottom,property:"translateX",initialValue:0,min:-(n-e-window.innerWidth),max:0,change:function(t){T.rightTop.alloyTouch&&T.rightTop.alloyTouch.to(t,0)},canCrossBorderMax:!1,touchEnd:function(t,e){return!(e>=0)}}),T.leftBottom.alloyTouch=new l.a({touch:f,vertical:!0,target:T.leftBottom,property:"translateY",initialValue:0,max:0,fixed:!0}),T.rightTop.alloyTouch=new l.a({touch:m,vertical:!0,target:T.rightTop,property:"translateX",initialValue:0,max:0,fixed:!0}),T.leftTop.onload=function(){u.append(T.leftTop),p(T.leftTop,T)&&!o&&(o=!0,r(c))},T.rightTop.onload=function(){m.append(T.rightTop),p(T.rightTop,T)&&!o&&(o=!0,r(c))},T.leftBottom.onload=function(){f.append(T.leftBottom),p(T.leftBottom,T)&&!o&&(o=!0,r(c))},T.rightBottom.onload=function(){g.append(T.rightBottom),p(T.rightBottom,T)&&!o&&(o=!0,r(c))},w.onload=function(){_.drawImage(w,0,0,M*n,M*s);var t=_.getImageData(0,0,M*n,M*s);T.leftTop.src=d(t,0,0,e,i),T.rightTop.src=d(t,e,0,n-e,i),T.leftBottom.src=d(t,0,i,e,s-i),T.rightBottom.src=d(t,e,i,n-e,s-i)},w.src=t}function d(t,e,i,n,s){var a=window.devicePixelRatio,r=document.createElement("canvas"),o=r.getContext("2d");return r.width=a*n,r.height=a*s,r.style.width=n,r.style.height=s,o.rect(0,0,a*n,a*s),o.scale(a,a),o.fillStyle="white",o.fill(),o.putImageData(t,-a*e,-a*i),r.toDataURL("image/jpeg",1)}function p(t,e){t.finished=!0;var i=!0;return function(t,e){for(var i=Object.keys(t),n=0;n<i.length;n++){var s=i[n];e(t[s])}}(e,function(t){t.finished||(i=!1)}),i}i.d(e,"cut4Pieces",function(){return u})}])});